<template>
  <div class="detail-footer" v-if="Object.keys(shopcart).length !== 0">
    <div class="inshop">
      <span>
        <svg
          t="1619620461008"
          class="icon"
          viewBox="0 0 1102 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="4719"
          width="20"
          height="20"
        >
          <path
            d="M329.262468 1023.99662a35.243637 35.243637 0 0 1-35.243636-35.243636v-113.455543H122.145754A122.145754 122.145754 0 0 1 0 753.151687V265.051459A265.534249 265.534249 0 0 1 265.051459 0H980.062772a122.145754 122.145754 0 0 1 122.145754 122.145754v488.100228a265.534249 265.534249 0 0 1-265.051459 265.051459H535.896393l-184.908395 141.457336a34.760847 34.760847 0 0 1-21.72553 7.241843zM265.051459 70.487273a193.115817 193.115817 0 0 0-193.115817 193.115817V753.151687a52.141271 52.141271 0 0 0 52.141271 52.141271h205.185555a35.243637 35.243637 0 0 1 35.243637 35.243636V917.300131l138.077809-105.730909a34.760847 34.760847 0 0 1 21.24274-7.241844h313.330413a193.115817 193.115817 0 0 0 193.115818-193.115817V122.145754a52.141271 52.141271 0 0 0-50.210113-51.658481z"
            fill="#515151"
            p-id="4720"
          ></path>
          <path
            d="M315.744361 446.097538m-82.557012 0a82.557012 82.557012 0 1 0 165.114024 0 82.557012 82.557012 0 1 0-165.114024 0Z"
            fill="#515151"
            p-id="4721"
          ></path>
          <path
            d="M551.345658 446.097538m-82.557012 0a82.557012 82.557012 0 1 0 165.114024 0 82.557012 82.557012 0 1 0-165.114024 0Z"
            fill="#515151"
            p-id="4722"
          ></path>
          <path
            d="M786.464165 446.097538m-82.557011 0a82.557012 82.557012 0 1 0 165.114023 0 82.557012 82.557012 0 1 0-165.114023 0Z"
            fill="#515151"
            p-id="4723"
          ></path></svg></span
      ><span class="name">客服</span>
    </div>
    <div class="inshop">
      <span>
        <svg
          t="1619620257439"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="3108"
          width="20"
          height="20"
        >
          <path
            d="M5.821077 426.040233c0 53.323463 40.4779 97.755418 95.068216 110.583584l0 376.50505L37.510824 913.128867c-17.45965 0-31.689746 12.827143-31.689746 28.664853 0 15.835663 14.230096 28.646434 31.689746 28.646434l950.684204 0c17.577331 0 31.689746-12.827143 31.689746-28.646434s-14.112416-28.64848-31.69077-28.64848L924.816558 913.14524 924.816558 536.62484c54.590316-12.82919 95.068216-57.261145 95.068216-110.583584L1019.884774 397.393799 5.821077 397.393799 5.821077 426.040233zM639.610888 540.64541c70.071915 0 126.757962-51.310619 126.757962-114.605178 0 53.323463 40.4779 97.755418 95.068216 110.583584l0 376.50505L386.094964 913.128867l0-372.483456c70.071915 0 126.757962-51.310619 126.757962-114.605178C512.852926 489.334791 569.657676 540.64541 639.610888 540.64541zM354.405217 536.62484l0 376.50505L164.268786 913.12989 164.268786 536.62484c54.590316-12.82919 95.068216-57.261145 95.068216-110.583584C259.338025 479.363695 299.814901 523.795651 354.405217 536.62484zM893.126812 139.517567 132.580063 139.517567 5.821077 368.728946l1014.063697 0L893.126812 139.517567zM273.568121 203.200982l-63.379493 114.606201c-2.838651 5.036713-8.417717 7.943926-14.230096 7.943926-2.349511 0-4.76656-0.438998-7.048533-1.50426-7.791453-3.51608-11.019984-12.151761-7.04751-19.200294l63.378469-114.606201c3.955078-7.04751 13.419637-9.904581 21.228487-6.439666C274.311041 187.533141 277.404496 196.152449 273.568121 203.200982zM400.32506 203.200982l-63.378469 114.606201c-2.839675 5.036713-8.417717 7.943926-14.231119 7.943926-2.349511 0-4.765537-0.438998-7.04751-1.50426-7.791453-3.51608-11.019984-12.151761-7.048533-19.200294l63.379493-114.606201c3.955078-7.04751 13.487176-9.904581 21.227464-6.439666C401.070027 187.533141 404.162458 196.152449 400.32506 203.200982zM528.705985 311.435055c0 7.943926-7.064906 14.332427-15.85306 14.332427-8.738012 0-15.85306-6.372128-15.85306-14.332427L496.999866 196.828854c0-7.943926 7.115048-14.332427 15.85306-14.332427 8.788154 0 15.85306 6.372128 15.85306 14.332427L528.705985 311.435055zM710.66313 323.974649c-2.467191 1.234107-5.070482 1.791809-7.67275 1.791809-5.577019 0-11.019984-2.687202-13.858636-7.436366l-69.328995-114.606201c-4.207835-6.946202-1.351787-15.666818 6.304589-19.419282 7.55507-3.802606 17.323551-1.351787 21.548782 5.64558L716.983069 304.555367C721.056851 311.485197 718.33588 320.223209 710.66313 323.974649zM836.812225 324.245825c-2.24718 1.065262-4.580319 1.50426-7.063883 1.50426-5.814426 0-11.391445-2.907213-14.112416-7.943926L752.256434 203.200982c-3.955078-7.04751-0.743944-15.667841 7.04751-19.200294 7.691169-3.515057 17.324574-0.675382 21.296025 6.439666l63.379493 114.606201C847.814814 312.094064 844.738755 320.730769 836.812225 324.245825zM275.190061 745.570663l0-66.015529c-9.29469-5.053086-15.852036-13.774725-15.852036-24.285103 0-15.83771 14.230096-28.64848 31.688723-28.64848 17.577331 0 31.689746 12.82919 31.689746 28.64848 0 10.510378-6.506181 19.249413-15.85306 24.303522l0 66.015529c9.346879 5.053086 15.85306 13.774725 15.85306 24.303522 0 15.83771-14.112416 28.646434-31.689746 28.646434-17.458627 0-31.688723-12.827143-31.688723-28.646434C259.338025 759.363807 265.895371 750.625796 275.190061 745.570663zM132.580063 82.205257c0-15.836687 14.230096-28.647457 31.689746-28.647457l697.16828 0c17.577331 0 31.689746 12.81077 31.689746 28.647457s-14.112416 28.647457-31.689746 28.647457l-697.16828 0C146.810159 110.87011 132.580063 98.041944 132.580063 82.205257zM561.240983 694.040033l-22.394033-20.264533 89.626273-81.038688 22.394033 20.264533L561.240983 694.040033zM561.240983 775.080767l-22.394033-20.264533 179.235151-162.080445 22.394033 20.264533L561.240983 775.080767zM718.099497 673.7755l22.394033 20.264533-89.626273 81.040734-22.394033-20.264533L718.099497 673.7755z"
            p-id="3109"
            fill="#515151"
          ></path></svg></span
      ><span class="name">店铺</span>
    </div>
    <div class="inshop">
      <span>
        <svg
          t="1619620511994"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="5802"
          width="20"
          height="20"
        >
          <path
            d="M773.458 1005.43c-14.403 0-30.592-4.132-45.599-11.638L513.567 886.61 297.948 993.618c-13.655 7.27-29.286 11.09-45.225 11.09a96.164 96.164 0 0 1-57.549-18.842c-30.177-22.64-45.64-61.85-38.502-97.561l44.099-228.772L31.744 501.996a104.059 104.059 0 0 1-26.281-100.66l0.338-1.162c12.288-36.828 42.772-62.633 79.734-67.584l234.839-42.7L425.779 75.811c16.932-33.895 51.37-55.675 87.788-55.675 37.99 0 73.318 22.6 88.13 56.29l105.068 213.4L941.64 330.89a95.672 95.672 0 0 1 78.264 68.373 98.97 98.97 0 0 1-24.474 101.002l-0.578 0.579-168.55 158.72L868.9 888.745c6.86 36.649-7.716 73.672-38.062 96.742a90.409 90.409 0 0 1-57.38 19.943z m-259.81-196.055l227.667 113.853c6.686 3.37 14.392 5.489 19.665 5.489 8.116 0 15.652-2.499 21.187-7.117l1.03-0.85c12.937-9.707 19.245-25.134 16.414-40.238l-45.814-246.804 181.212-170.65c11.126-11.28 14.93-27.433 9.995-42.286l-0.497-1.562a37.31 37.31 0 0 0-30.971-27.003l-1.034-0.163L661.76 348.21 548.91 118.99c-5.478-12.805-20.347-22.098-35.359-22.098-14.75 0-28.861 9.236-36.009 23.496L365.414 348.109l-252.062 45.788c-15.31 1.92-27.203 12.088-32.697 27.945-3.901 14.49 0.722 31.949 11.372 42.834l181.422 169.057-47.61 246.933c-2.863 14.28 3.9 30.714 16.409 40.1 6.272 4.715 14.397 7.316 22.917 7.316 6.569 0 12.866-1.531 18.294-4.45l0.783-0.46 229.407-113.797z"
            fill="#515151"
            p-id="5803"
          ></path></svg></span
      ><span class="name">收藏</span>
    </div>
    <div class="addShopCar" @click="addShopCar">加入购物车</div>
    <div class="immediateBuy">立即购买</div>
    <!-- 右下角购物车 -->
    <div class="shopCarBtn">
      <span class="sum">{{ $store.state.carList.length ? ". . ." : 0 }}</span>
      <button @click="goShopcart">
        <svg
          t="1619698374757"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="2352"
          width="32"
          height="32"
        >
          <path
            d="M313.6 665.6c6.4 0 12.8 0 12.8-6.4l524.8 6.4c25.6 0 51.2-19.2 57.6-44.8l108.8-448c6.4-19.2 0-38.4-12.8-51.2-12.8-12.8-32-25.6-51.2-25.6L211.2 96 192 0 44.8 0C25.6 0 12.8 12.8 12.8 32S25.6 64 44.8 64l96 0 128 550.4c-38.4 19.2-64 57.6-64 102.4 0 38.4 25.6 76.8 57.6 96-32 19.2-57.6 57.6-57.6 96 0 64 51.2 115.2 115.2 115.2s115.2-51.2 115.2-115.2c0-25.6-12.8-51.2-25.6-70.4l396.8 0c-12.8 19.2-25.6 44.8-25.6 70.4 0 64 51.2 115.2 115.2 115.2s115.2-51.2 115.2-115.2c0-51.2-38.4-96-83.2-108.8 0-12.8-12.8-25.6-32-25.6L339.2 774.4C332.8 768 326.4 768 313.6 768c-25.6 0-51.2-19.2-51.2-51.2C268.8 691.2 288 665.6 313.6 665.6zM857.6 608 339.2 614.4c0 0-6.4-6.4-6.4-6.4L262.4 320l659.2 0L857.6 608zM960 160 934.4 256 249.6 256 224 160 960 160zM313.6 960c-25.6 0-51.2-19.2-51.2-51.2s19.2-51.2 51.2-51.2 51.2 19.2 51.2 51.2S339.2 960 313.6 960zM934.4 908.8c0 25.6-19.2 51.2-51.2 51.2-25.6 0-51.2-19.2-51.2-51.2s19.2-51.2 51.2-51.2C908.8 864 934.4 883.2 934.4 908.8z"
            p-id="2353"
            fill="var(--primary-bg-color)"
          ></path>
        </svg>
      </button>
    </div>
    <!-- <transition name="fade"> -->
    <div
      class="addShopCarsuccess"
      :class="isAnimation ? 'Anim' : ''"
      @animationend="isAnimation = false"
    >
      购物车 + 1
    </div>
    <!-- </transition> -->
  </div>
</template>

<script>
export default {
  name: "DetailFooter",
  data() {
    return {
      isAnimation: true
    };
  },
  props: ["shopcart"],
  methods: {
    goShopcart() {
      this.$router.replace("/shopcart");
    },
    addShopCar() {
      this.$emit("addCar");
      // console.log("给DETAIL主组件");
    }
  }
};
</script>

<style scoped lang="less">
.detail-footer {
  position: fixed;
  left: 0;
  bottom: 0;
  right: 0;
  display: flex;
  text-align: center;
  padding: 5px 0;
  background-color: #fff;
  .inshop {
    flex: 1;
    padding-top: 6px;
  }
  .name {
    display: block;
    font-size: 14px;
  }
}
.addShopCar,
.immediateBuy {
  flex: 3;
  line-height: 50px;
  color: #fff;
}
.addShopCar {
  border-top-left-radius: 40px;
  border-bottom-left-radius: 40px;
  background: linear-gradient(to right, #ffcb1e, #ff8d18);
}
.Anim {
  animation: addShopCarsuccess 1s;
}
@keyframes addShopCarsuccess {
  50% {
    // visibility: visible;
    opacity: 0.5;
  }
  100% {
    top: -70%;
    // left: 40%;
    // width: 0;
    opacity: 0;
    height: 0;
    // visibility: hidden;
  }
}
.addShopCarsuccess {
  // visibility: hidden;
  opacity: 0;
  color: #000;
  font-size: 20px;
  position: absolute;
  left: 50%;
  transform: translate(-50%);
  top: -150%;
  line-height: 80px;
  border-radius: 20px;
  padding: 0 10px;
  // width: 100px;
  // border: 1px solid red;
  background-color: #c5c5c5;
  opacity: 0;
}
.immediateBuy {
  border-top-right-radius: 40px;
  border-bottom-right-radius: 40px;
  background: linear-gradient(to right, #fe5d33, #e91024);
}
// 购物车按钮样式
.shopCarBtn {
  position: absolute;
  right: 0;
  top: -100px;
  button {
    background-color: transparent;
    border: 0;
  }
  .sum {
    display: block;
    position: absolute;
    left: 16px;
    top: -13px;
    // width: 1em;
    // background-color: #fff;
    border-radius: 50%;
    color: red;
  }
}
</style>
